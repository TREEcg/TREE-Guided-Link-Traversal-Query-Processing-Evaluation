"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDefault = exports.modify = void 0;
/**
 * Modifies a {@link SetMultiMap} in place by removing and adding the requested entries.
 * Removals happen before additions.
 *
 * @param map - Map to start from.
 * @param options - {@link ModifyOptions} describing the necessary changes.
 */
function modify(map, options) {
    for (const key of options.remove ?? []) {
        map.delete(key);
    }
    for (const [key, val] of options.add ?? []) {
        map.add(key, val);
    }
    return map;
}
exports.modify = modify;
/**
 * Finds the result of calling `map.get(key)`.
 * If there is no result, it instead returns the default value.
 * The Map will also be updated to assign that default value to the given key.
 *
 * @param map - Map to use.
 * @param key - Key to find the value for.
 * @param defaultValue - Value to insert and return if no result was found.
 */
function getDefault(map, key, defaultValue) {
    const value = map.get(key);
    if (value) {
        return value;
    }
    map.set(key, defaultValue);
    return defaultValue;
}
exports.getDefault = getDefault;
//# sourceMappingURL=MapUtil.js.map